/* ===========================
   DM Physio — Base CSS (clean)
   Съвместим с /js/media-autoplay-cards.js
   =========================== */

/* ---- Reset / Variables ---- */
:root{
  --text:#0f172a; --muted:#64748b; --line:#e2e8f0;
  --blue:#0ea5e9; --green:#16a34a; --bg:#f8fafc;
}
*{box-sizing:border-box}
html{-webkit-text-size-adjust:100%}
html,body{overflow-x:hidden}
body{
  margin:0;
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;
  color:var(--text);
  background:var(--bg);
  line-height:1.6;
}
img{height:auto;display:block}
a:focus,button:focus{outline:3px solid #18A558;outline-offset:2px}
.skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{position:static;width:auto;height:auto;padding:.5rem 1rem;background:#fff;color:#000;z-index:9999}
:target{scroll-margin-top:80px}

/* ---- Layout helpers ---- */
.container{max-width:1200px;margin:0 auto;padding:0 32px}
@media(max-width:768px){ .container{padding:0 16px} }

/* ===========================
   HERO
   =========================== */
.hero-pro{
  padding:72px 0 56px;
  background:
    radial-gradient(900px 400px at 15% 0%, rgba(34,197,94,.12), transparent 60%),
    radial-gradient(700px 320px at 95% 10%, rgba(20,184,166,.10), transparent 60%);
}
.hero-pro__wrap{
  display:grid;grid-template-columns:1.05fr .95fr;gap:28px;align-items:center
}
.hero-pro__eyebrow{display:inline-block;font-weight:700;letter-spacing:.06em;color:var(--blue);margin-bottom:6px}
.hero-pro__title{margin:0 0 8px;font-size:clamp(34px,5.4vw,56px);line-height:1.06;font-weight:800;letter-spacing:-.02em}
.brand-blue{color:var(--blue)} .brand-green{color:var(--green)}
.hero-pro__subtitle{color:#475569;font-size:clamp(16px,2.2vw,20px);line-height:1.7;max-width:680px;margin:8px 0 0}
.hero-pro__cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:22px}
.btn{display:inline-flex;align-items:center;justify-content:center;font-weight:700;border-radius:12px;padding:12px 18px;text-decoration:none;cursor:pointer}
.btn-primary{background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;box-shadow:0 8px 20px rgba(34,197,94,.35)}
.btn-outline{background:#fff;border:1px solid var(--line);color:var(--text)}
.btn-outline:hover{background:#f1f5f9}
.hero-pro__stats{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:28px}
.stat{background:#fff;border:1px solid var(--line);border-radius:14px;box-shadow:0 2px 8px rgba(0,0,0,.05);padding:18px;text-align:center}
.stat__value{font-size:clamp(24px,3.6vw,32px);font-weight:800}
.stat__label{color:var(--muted);font-weight:600;font-size:14px}

.hero-pro__media{position:relative;margin:0}
.hero-pro__media img{width:100%;height:auto;border-radius:18px;box-shadow:0 8px 24px rgba(0,0,0,.10)}
@media(max-width:900px){
  .hero-pro__wrap{grid-template-columns:1fr;gap:16px}
  .hero-pro__media{order:-1}
  .hero-pro__title{font-size:clamp(26px,7vw,34px)}
  .hero-pro__cta{display:grid;gap:10px}
  .btn,.btn-primary,.btn-outline{width:100%;min-height:48px;border-radius:14px;font-weight:800}
}
@media(max-width:600px){
  .hero-pro__media{aspect-ratio:1 / 1}
  .hero-pro__media img{width:100%;height:100%;object-fit:cover}
}

/* ===========================
   TWO-COL
   =========================== */
.two-col__wrap{display:grid;grid-template-columns:2fr 1fr;gap:40px;align-items:start}
@media(max-width:900px){ .two-col__wrap{grid-template-columns:1fr;gap:20px} }

/* ===========================
   WHY section
   =========================== */
.why{padding:60px 0;background:#f1f5f9}
.why__title{margin:0 0 16px;font-size:clamp(26px,4vw,34px);font-weight:800;color:#1e3a8a}
.why-card{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:10px 20px;box-shadow:0 2px 8px rgba(0,0,0,.06);margin:12px 0}
.why-card__title{margin:0 0 14px;font-size:18px;font-weight:700;color:#0f172a}
.accent{color:#22c55e;font-weight:700}.accent-red{color:#ef4444;font-weight:700}

/* ===========================
   DM Flow / Recovery
   =========================== */
.dm-flow{padding:15px 0;background:
  radial-gradient(600px 260px at 12% 0%, rgba(34,197,94,.06), transparent 60%),
  radial-gradient(520px 240px at 88% 18%, rgba(2,132,199,.06), transparent 60%)}
.dm-flow__wrap{max-width:880px;margin:0 auto}
.dm-flow__title{margin:0 0 14px;font-size:clamp(28px,4.2vw,42px);line-height:1.15;font-weight:800;letter-spacing:-.01em;text-align:center}
.dm-flow__intro{margin:0 auto 32px;max-width:70ch;font-size:clamp(16px,2.2vw,19px);color:#334155;text-align:center;line-height:1.7}
.dm-flow__points{display:flex;flex-direction:column;gap:20px;margin-bottom:30px}
.dm-flow__point h3{font-size:20px;font-weight:700;margin:0 0 0;color:var(--blue)}
.dm-flow__point p{margin:0;font-size:16px;line-height:1.7}
.recovery-box{background:#fff;border:1px solid #e2e8f0;border-radius:14px;box-shadow:0 4px 16px rgba(0,0,0,.06);padding:28px;margin:32px 0;max-width:800px}
.recovery__title{font-size:36px;font-weight:800;text-align:center;margin:0;color:var(--green)}
.recovery__steps{display:flex;flex-direction:column;gap:16px}
.recovery__step{display:flex;gap:12px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:10px;padding:12px 14px}
.recovery__step h3{margin:0 0 4px;color:var(--blue);font-size:16px}
@media(max-width:640px){ .dm-flow{padding:56px 0} .dm-flow__points{gap:24px} }

/* ===========================
   HERO-SUBPAGE (Pain intro) + GRID
   =========================== */
.hero-subpage{
  padding:64px 0 40px;
  background:
    radial-gradient(700px 300px at 12% 0%, rgba(34,197,94,.07), transparent 60%),
    radial-gradient(520px 240px at 88% 18%, rgba(2,132,199,.06), transparent 60%);
}
.pci-title{margin:0 0 10px;font-size:clamp(28px,4.2vw,40px);font-weight:800;text-align:center}
.pci-intro{margin:8px auto 14px;max-width:76ch;font-size:clamp(16px,2.2vw,18px);color:#334155;line-height:1.75;text-align:center}
.pci-intro .pci-accent{color:var(--green);font-weight:700}
.pci-footnote{margin:16px auto 0;max-width:70ch;color:#475569;font-size:14px;text-align:center}

/* GRID */
.pain-buttons-grid{display:grid;gap:14px;grid-template-columns:repeat(4,minmax(0,1fr))}
@media(max-width:1200px){.pain-buttons-grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:900px){.pain-buttons-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:480px){.pain-buttons-grid{grid-template-columns:1fr}}

/* CARD */
.pain-button{
  display:flex;flex-direction:column;gap:8px;text-decoration:none;background:#fff;
  border:1px solid #e2e8f0;border-radius:12px;padding:15px;
  box-shadow:0 2px 8px rgba(0,0,0,.05);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  color:inherit;
}
.pain-button:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(0,0,0,.10);border-color:rgba(34,197,94,.35)}
.pain-button-text{font-weight:700;color:var(--text);padding:0 2px 2px;line-height:1.3;text-align:center;font-size:22px}
.pain-button-hook{font-size:12px;color:#475569;line-height:1.4;margin:4px 8px 10px;text-align:center}

/* Aside vertical list */
.conditions__title{font-size:24px;font-weight:700;margin:0 0 14px;color:var(--blue);text-align:center}
.pain-buttons-vertical{display:flex;flex-direction:column;gap:12px}

/* ===========================
   MEDIA CONTAINERS (images + videos)
   СЪВМЕСТИМО С ИОS/JS:
   - По подразбиране: снимка видима, видео скрито (opacity)
   - Десктоп: показваме видео само при .video-ready:hover
   - Мобилно: НИКОГА не ползваме hover; JS управлява opacity
   =========================== */

/* Основен контейнер за грида (4:3); за aside ще презапишем */
.image-container{
  position:relative;overflow:hidden;border-radius:10px;background:#f1f5f9;aspect-ratio:4/3;
}
.pain-button-media.image-container{aspect-ratio:1/1;border-radius:12px}

/* Слоеве */
.image-container .static-img,
.image-container .hover-img{
  position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border:0;
  transition:opacity .28s ease;
}

/* Стартово състояние */
.image-container .static-img{opacity:1}
.image-container .hover-img{opacity:0}

/* ДЕСKTOP: показвай видео само ако е готово (.video-ready), при hover */
@media (hover:hover){
  .image-container.video-ready:hover .static-img{opacity:0}
  .image-container.video-ready:hover .hover-img{opacity:1}
}

/* МОБИЛНО (touch): без hover промени – JS управлява opacity.
   Никакви display/visibility тук, за да не пречим на JS. */
@media (hover:none){
  /* без правила, оставяме JS да flip-ва opacity */
}

/* Безопасни стилове за всяка карта с медия */
.pain-button-media,
.image-container{background:#f1f5f9}

/* ===========================
   CTA box
   =========================== */
.cta-box{
  background:#fff;border:1px solid #e2e8f0;border-radius:14px;
  box-shadow:0 4px 16px rgba(0,0,0,.06);
  padding:14px 8px;margin:22px auto;text-align:center;max-width:600px
}
.cta-text{font-size:17px;font-weight:600;color:#0f172a;margin:0 0 18px;line-height:1.5}
.btn-book{display:inline-block;padding:12px 36px;background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;font-weight:700;font-size:15px;border-radius:10px;text-decoration:none;box-shadow:0 4px 12px rgba(34,197,94,.35);transition:transform .25s ease, box-shadow .25s ease}
.btn-book:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(22,163,74,.4)}

/* ===========================
   Reviews
   =========================== */
.reviews-section{padding:48px 20px;background:#f9fafb}
.reviews-box{max-width:1300px;margin:0 auto;background:#fff;border:1px solid #e2e8f0;border-radius:4px;box-shadow:0 4px 16px rgba(0,0,0,.06);padding:0;text-align:center}
.reviews-title{font-size:46px;font-weight:800;margin:0 0 4px;color:var(--blue)}

/* ===========================
   Reveal form (free advice) — минимално ядро
   =========================== */
.advice-reveal-block{max-width:880px;margin:0 auto;padding:16px}
.advice-window{border:1px solid #e2e8f0;border-radius:18px;background:#fff;box-shadow:0 18px 40px rgba(2,6,23,.10);overflow:hidden}
.advice-window__titlebar{display:flex;align-items:center;gap:10px;padding:10px 14px;background:linear-gradient(180deg,#f8fafc,#eef2f7);border-bottom:1px solid #e2e8f0}
.win-dots{display:flex;gap:8px}.win-dots .dot{width:12px;height:12px;border-radius:50%;box-shadow:inset 0 0 0 1px rgba(0,0,0,.08)}
.win-dots .red{background:#ff5f57}.win-dots .amber{background:#febc2e}.win-dots .green{background:#28c840}
.advice-window__titlebar .title{font-weight:800;font-size:14px;letter-spacing:.02em}
.advice-window__body{padding:18px}
.advice-window__body > :first-child{margin-top:0}
.advice-window__body > :last-child{margin-bottom:0}
.advice-success{margin:0 0 10px;padding:12px 14px;border:1px solid #bbf7d0;background:#f0fdf4;color:#166534;border-radius:12px;text-align:center;font-weight:700}
.advice-intro{text-align:center;margin-bottom:10px}
.advice-intro h3{margin:0 0 6px;font-size:clamp(20px,4.5vw,28px);font-weight:900;color:#0b3b6f}
.advice-intro p{margin:0;color:#334155}
.advice-reveal{margin-top:12px}
.advice-summary-btn{
  list-style:none;cursor:pointer;user-select:none;display:flex;align-items:center;justify-content:center;gap:10px;
  padding:12px 16px;border-radius:12px;border:1px solid #e2e8f0;background:#51f163;font-weight:900;color:#0f172a;position:relative
}
.advice-reveal .chev{width:10px;height:10px;border-right:2px solid #0f172a;border-bottom:2px solid #0f172a;transform:rotate(45deg);transition:transform .25s}
.advice-reveal[open] .chev{transform:rotate(-135deg)}
.advice-panel{overflow:hidden;max-height:0;opacity:0;transition:max-height .35s ease,opacity .25s ease;margin-top:10px}
.advice-reveal[open] .advice-panel{max-height:2200px;opacity:1}
.form-card{background:#fff;border:1px solid #e2e8f0;border-radius:16px;box-shadow:0 10px 30px rgba(2,6,23,.08);padding:18px}
.form-card__title{margin:4px 0 14px;text-align:center;font-weight:900;font-size:20px}
.advice-form{display:grid;gap:12px}
.form-row{display:grid;gap:12px;grid-template-columns:1fr 1fr}
@media(max-width:680px){.form-row{grid-template-columns:1fr}}
.field{display:grid;gap:6px}
.field label{font-weight:700}
.field input,.field textarea{width:100%;padding:12px 14px;border:1px solid #e2e8f0;border-radius:12px;background:#fff;font-size:16px;outline:none;transition:border-color .15s, box-shadow .15s}
.field input::placeholder,.field textarea::placeholder{color:#94a3b8}
.field input:focus,.field textarea:focus{border-color:#93c5fd;box-shadow:0 0 0 4px rgba(14,165,233,.15)}
.form-actions{display:grid;grid-template-columns:1fr 1fr;gap:12px;align-items:center}
@media(max-width:480px){.form-actions{grid-template-columns:1fr}}
.btn-cancel{appearance:none;border:1px solid #e2e8f0;background:#f8fafc;color:#0f172a;border-radius:12px;padding:12px 16px;font-weight:800;cursor:pointer}
.btn-cancel:hover{background:#f1f5f9}
.btn-submit{appearance:none;border:0;border-radius:12px;padding:12px 16px;font-weight:900;color:#fff;cursor:pointer;background-image:linear-gradient(90deg,#0ea5e9,#22c55e);box-shadow:0 8px 20px rgba(14,165,233,.25)}
.btn-submit:hover{transform:translateY(-1px)}

/* ===========================
   FOOTER
   =========================== */
footer{background:#f3f5f7;padding:40px 0 28px;color:#0f172a;font-size:18px}
footer .contact-section{max-width:1200px;margin:0 auto;padding:0 16px}
footer .contact-container{display:grid;grid-template-columns:360px 1fr 1.2fr;gap:40px;align-items:start}
footer .contact-left .map iframe{width:360px;height:260px;border:0;border-radius:14px;box-shadow:0 4px 14px rgba(0,0,0,.08);background:#e9eef3;display:block;transition:transform .3s ease, box-shadow .3s ease}
footer .contact-left .map iframe:hover{transform:translateY(-2px);box-shadow:0 12px 28px rgba(0,0,0,.12)}
footer .contact-center{text-align:center}
footer .contact-center h2{margin:0 0 14px;font-size:2rem;font-weight:800}
footer .social-links{display:inline-flex;gap:14px}
footer .social-links img{width:64px;height:64px;object-fit:contain;display:block;border-radius:8px;transition:filter .25s, transform .25s}
footer .social-links a:hover img{filter:drop-shadow(0 8px 18px rgba(11,102,255,.25));transform:translateY(-4px) scale(1.03)}
footer .contact-item{display:flex;gap:12px;align-items:center;margin-bottom:16px;border-radius:14px;padding:8px 10px;transition:background-color .25s, box-shadow .25s}
footer .contact-item:hover{background:rgba(11,102,255,.06);box-shadow:0 8px 24px rgba(15,23,42,.08)}
footer .icon{width:48px;height:48px;object-fit:contain;flex:0 0 48px;transition:transform .25s}
footer .contact-item:hover .icon{transform:scale(1.06) rotate(-2deg)}
footer .contact-item.phone span{font-size:2rem;font-weight:800;letter-spacing:.5px}
footer .map-link{color:#0b66ff;text-decoration:underline}
footer .footer-links{margin-top:22px;text-align:center;font-size:1.05rem}
footer .footer-links a{color:#0b66ff;text-decoration:none;background-image:linear-gradient(currentColor,currentColor);background-position:50% 100%;background-repeat:no-repeat;background-size:0% 2px;transition:color .25s, background-size .25s}
footer .footer-links a:hover{color:#0b66ff;background-size:100% 2px}
@media(max-width:1024px){
  footer .contact-container{grid-template-columns:320px 1fr}
  footer .contact-left .map iframe{width:320px;height:230px}
}
@media(max-width:768px){
  footer{font-size:16px}
  footer .contact-container{grid-template-columns:1fr;gap:22px}
  footer .contact-left .map iframe{width:100%;height:220px}
  .hero-pro__stats{grid-template-columns:1fr 1fr;gap:10px}
}

/* ===========================
   Misc mobile spacing
   =========================== */
@media(max-width:560px){
  .hero-subpage{padding:48px 0 28px}
}

/* ===========================
   ACCESSIBILITY / Reduced motion
   =========================== */
@media(prefers-reduced-motion:reduce){
  *{animation:none !important;transition:none !important}
}
  /* ===== CSS-only PATCH (без промени по HTML) ===== */

/* 0) По-лек първи кадър: махаме скъпата маска и тежки сенки до 900px */
@media (max-width:900px){
  .hero-pro__media img,
  .why__media img{
    -webkit-mask-image:none !important;
    mask-image:none !important;
    box-shadow:none !important;
    border-radius:0 !important;
  }
}

/* 1) Медия контейнер – базова геометрия (да не „пляска“ layout-а преди видеото) */
.image-container,
.pain-button-media{
  position:relative !important;
  overflow:hidden !important;
  border-radius:12px;
  background:#f1f5f9;
}
.image-container{ aspect-ratio:4/3; }
.pain-button-media{ aspect-ratio:1/1; }

/* 2) Статична снимка над видеото по подразбиране (без visibility, само opacity) */
.image-container .static-img,
.pain-button-media .static-img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; opacity:1; transition:opacity .25s ease;
}
.image-container .hover-img,
.pain-button-media .hover-img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; opacity:0; transition:opacity .25s ease;
  border:0;
}

/* 3) ДЕСКТОП: видео само при hover (не влияе на мобилни) */
@media (hover:hover) and (pointer:fine){
  .pain-button:hover .image-container .static-img,
  .pain-button:hover .pain-button-media .static-img{ opacity:0; }
  .pain-button:hover .image-container .hover-img,
  .pain-button:hover .pain-button-media .hover-img{ opacity:1; }
  /* и в картите (1:1) */
  .pc-card:hover .media .static{ opacity:0; }
  .pc-card:hover .media .hover{ opacity:1; }
}

/* 4) МОБИЛНО: забраняваме hover-поведението; показваме видеото само когато JS добави клас */
@media (hover:none){
  /* анулираме всички hover-правила от по-горе/стар CSS */
  .pain-button:hover .static-img,
  .pc-card:hover .media .static{ opacity:1 !important; }
  .pain-button:hover .hover-img,
  .pc-card:hover .media .hover{ opacity:0 !important; }

  /* JS ще добави .is-visible на контейнера когато влезе в полезрението */
  .image-container.is-visible .static-img,
  .pain-button-media.is-visible .static-img{ opacity:0; }
  .image-container.is-visible .hover-img,
  .pain-button-media.is-visible .hover-img{ opacity:1; }
}

/* 5) Предпазване: докато видеото няма източник/данни, не го показваме */
.image-container:not(.is-visible) video.hover-img[preload="none"],
.pain-button-media:not(.is-visible) video.hover-img[preload="none"]{
  opacity:0 !important;
}

/* 6) Малки изгледни корекции за текстовете под картите (запазваме текущия вид) */
.pain-button-text{
  font-weight:700; color:var(--text);
  line-height:1.3; text-align:center;
  font-size: clamp(18px, 2.6vw, 22px);
  padding:0 2px 2px;
}
.pain-button-hook{ font-size:12px; color:#475569; line-height:1.4; margin:4px 8px 10px; text-align:center; }
