<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Дълбокотъканен Масаж - ДМ ФИЗИО</title>

  <!-- Неблокиращо зареждане на основния стил -->
  <link rel="preload" href="../css/procedure.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <!-- Top-bar стил -->
  <link rel="preload" href="../css/top-bar.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="../css/top-bar.css"></noscript>
</head>

<body>
<!-- ======= Top bar (TB) ======= -->
<header class="tb-header" role="banner">
  <div class="tb-inner">
    <!-- Лого -->
    <a href="/index.html" class="tb-logo-link" aria-label="Начало">
      <img src="/logo.png" alt="ДМ Физио Лого" class="tb-logo" />
    </a>

    <!-- Хамбургер -->
    <button class="tb-burger" aria-controls="tb-primary-nav" aria-expanded="false" aria-label="Отвори меню">
      <svg class="tb-burger-icon" viewBox="0 0 24 24" width="28" height="28" aria-hidden="true" focusable="false">
        <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>

    <!-- Навигация -->
    <nav class="tb-nav" id="tb-primary-nav" aria-label="Основна навигация">
      <ul class="tb-menu">
        <li class="tb-item"><a class="tb-link" href="/index.html">Начало</a></li>

        <li class="tb-item tb-dropdown">
          <a class="tb-link tb-drop-toggle" href="/services.html" data-dropdown="toggle">Процедури</a>
          <div class="tb-drop-menu">
            <a class="tb-drop-link" href="/kinesitherapy.html">Кинезитерапия</a>
            <a class="tb-drop-link" href="/massages.html">Масажи</a>
          </div>
        </li>

        <li class="tb-item"><a class="tb-link" href="/pain-conditions.html">Болкови състояния</a></li>
        <li class="tb-item"><a class="tb-link" href="https://bookings-git-main-daniels-projects-6392a804.vercel.app/book">Свободни часове</a></li>
        <li class="tb-item"><a class="tb-link is-active" href="/contacts.html">Контакти</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="page-content">
  <section class="procedure-journey section-green">
    <div class="container">
      <h2>Дълбокотъканен Масаж</h2>
      <h3>стъпка по стъпка</h3>
      <p class="procedure-preamble">
        Дълбокотъканният масаж е терапевтична техника, насочена към достигане на по-дълбоките слоеве на мускулната и съединителната тъкан. Той е особено ефективен за облекчаване на хронични болки, мускулни възли (т.нар. „тригерни точки“), ограничена подвижност и скованост, които често произтичат от лоша стойка, повтарящи се движения или стари травми.
      </p>

      <div class="journey-steps-wrapper">
        <!-- Етап 1: Процедура -->
        <div class="journey-step left-aligned">
          <div class="journey-image image-container" tabindex="0">
            <img src="../pngs/massages/deeptissue.PNG" alt="Дълбокотъканен Масаж" class="static-img" decoding="async" fetchpriority="low" loading="lazy">
            <!-- Показва снимката (poster) до готовност на видеото -->
            <video class="hover-img" playsinline muted loop preload="none" poster="../pngs/massages/deeptissue.PNG" aria-hidden="true">
              <source src="../pngs/massages/gif/deeptisue.mp4" type="video/mp4">
              Вашият браузър не поддържа видео тага.
            </video>
          </div>
          <div class="journey-content">
            <h3><span class="step-duration"></span> Процедура (90 мин.)</h3>

            <p>
              При дълбокотъканния масаж терапевтът използва бавни, но интензивни движения с по-голям натиск, за да въздейства върху мускулните влакна, фасциите и другите съединителни тъкани. Целта е да се разрушат срастванията, да се отпуснат дълбоките възли и да се възстанови нормалната функция на тъканите. Този вид масаж е изключително полезен за:
            </p>
            <ul class="step-highlights">
              <li><span class="check"></span> Облекчаване на хронична болка – особено във врата, гърба и раменете.</li>
              <li><span class="check"></span> Деактивиране на тригерни точки, които причиняват референтна болка.</li>
              <li><span class="check"></span> Подобряване на стойката чрез освобождаване на стегнатите мускули.</li>
              <li><span class="check"></span> Увеличаване на обхвата на движение и възстановяване на еластичността на тъканите.</li>
              <li><span class="check"></span> Възстановяване след спортни травми – редуцира възпалението и подпомага заздравяването.</li>
            </ul>
            <p>
              Въпреки че може да усетите дискомфорт в определени моменти, усещането трябва да е „терапевтична болка“ – поносима и водеща до осезаемо облекчение след сесията. Редовните процедури дават кумулативен ефект: по-леко движение, по-малко напрежение и по-добър дневен тонус.
            </p>
          </div>
        </div>

      </div>
    </div>

    <div class="container text-center">
      <p class="procedure-price">Цена: 110 лв.</p>
      <a href="https://bookings-git-main-daniels-projects-6392a804.vercel.app/book" class="book-button large-button">
        Запази час
      </a>
    </div>

    <!-- FAQ / Акордеон -->
    <section class="details-accordion section-light-grey">
      <div class="container">
        <h2>Често задавани въпроси за Дълбокотъканен Масаж:</h2>
        <div class="accordion">

          <div class="accordion-item">
            <button class="accordion-header">Кога е подходящ дълбокотъканният масаж?</button>
            <div class="accordion-content">
              <p>Подходящ е при хронични болки, мускулни възли („тригерни точки“), скованост, ограничена подвижност и във възстановителни фази след претоварване или спортни травми. Също е благоприятен за спортисти и активно трениращи, за поддържане на мускулите в оптимално състояние.</p>
            </div>
          </div>

          <div class="accordion-item">
            <button class="accordion-header">Болезнен ли е дълбокотъканният масаж?</button>
            <div class="accordion-content">
              <p>Поради дълбочината на натиска може да има моменти на „добра болка“, особено в зони с натрупано напрежение или възли. Това е очаквано и показва, че достигаме проблемните тъкани. Винаги комуникирайте с терапевта – натискът се адаптира, за да остане поносим и ефективен.</p>
            </div>
          </div>

          <div class="accordion-item">
            <button class="accordion-header">Колко често трябва да се прави?</button>
            <div class="accordion-content">
              <p>Зависи от състоянието. Често започваме с 1–2 сесии седмично при изразени оплаквания, след което преминаваме към поддържащ режим през 2–3 седмици. Вашият терапевт ще предложи персонален график според реакцията на тъканите и целите ви.</p>
            </div>
          </div>

          <div class="accordion-item">
            <button class="accordion-header">Има ли странични ефекти след масажа?</button>
            <div class="accordion-content">
              <p>Възможни са лека мускулна болезненост 24–48 часа и понякога дребни синини при силно напрегнати зони – подобно на усещането след интензивна тренировка. Хидратация, леко раздвижване и щадящо разтягане подпомагат по-бързото възстановяване.</p>
            </div>
          </div>

        </div>
      </div>
    </section>
  </section>

  <!-- Сайдбар: Болкови състояния (условно зареждане + случайни) -->
  <aside id="random-conditions" class="sidebar-conditions">
    <h3>Болкови състояния</h3>
    <div class="pain-buttons-grid" id="conditions-container"></div>
  </aside>
</main>

<footer class="footer">
  <section class="contact-section">
    <div class="contact-container">
      <div class="contact-left">
        <div class="map">
          <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d1467.1224362949854!2d23.344392!3d42.656166!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40aa85f99bb08d7d%3A0x97edb5ec1f8fa66d!2zRE0gUEhZU0lPLyDQlNCcINCk0JjQl9CY0J4g0KHRgtGD0LTQuNC-INC30LAg0LvQtdGH0LXQsdC90Lgg0LzQsNGB0LDQttC4INC4INC60LjQvdC10LfQuNGC0LXRgNCw0L_QuNGP!5e0!3m2!1sbg!2sbg!4v1758308144619!5m2!1sbg!2sbg" 
                  width="300" height="250" style="border:0;" allowfullscreen="" loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>

      <div class="contact-center">
        <h2>Свържете се с нас:</h2>
        <div class="social-links">
          <a href="https://www.facebook.com/dmphysio03" target="_blank" rel="noopener noreferrer">
            <img src="/pngs/social/facebook.png" alt="Facebook">
          </a>
          <a href="https://www.instagram.com/dm.physio/" target="_blank" rel="noopener noreferrer">
            <img src="/pngs/social/instagram.png" alt="Instagram">
          </a>
          <a href="https://www.youtube.com/@dmphysio3352" target="_blank" rel="noopener noreferrer">
            <img src="/pngs/social/Youtube.png" alt="YouTube">
          </a>
          <a href="https://www.tiktok.com/@dmphysio" target="_blank" rel="noopener noreferrer">
            <img src="/pngs/social/tiktok.png" alt="TikTok">
          </a>
        </div>
      </div>

      <div class="contact-right">
        <div class="contact-item phone">
          <img src="/pngs/social/phone.png" alt="Телефон" class="icon">
          <span>0883688414</span>
        </div>
        <div class="contact-item work-hours">
          <img src="/pngs/clock.avif" alt="Работно Време" class="icon">
          <div>
            <span>Работно време:</span><br>
            <span>Пон-Пет: 09:00 - 19:00</span><br>
            <span>Събота: 09:00 - 16:00</span><br>
            </span>Неделя: Почивка</span>
          </div>
        </div>
        <div class="contact-item address-item">
          <img src="/pngs/social/location.png" alt="Адрес" class="icon">
          <div>
            <span>София, ул. „Проф. Христо Данов“ 19</span><br>
            <a href="https://maps.app.goo.gl/QsERnvvAdoY1nRXp6?g_st=ipc" target="_blank" rel="noopener noreferrer" class="map-link">
              Вижте на карта →
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-links">
      <a href="/privacy-policy.html">Политика за поверителност</a> | <a href="/terms.html">Общи условия</a>
    </div>
  </section>
</footer>

<!-- Външни скриптове (неблокиращи) -->
<script src="/js/topbar.js" defer></script>

<!-- Видео hover: снимка до пълно зареждане + play/pause при hover -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  document.querySelectorAll('.image-container').forEach(box => {
    const vid = box.querySelector('video.hover-img');
    const img = box.querySelector('img.static-img');
    if (vid) {
      vid.preload = 'none';
      vid.muted = true; vid.defaultMuted = true;
      vid.setAttribute('playsinline','');
      if (!vid.getAttribute('poster') && img) {
        vid.setAttribute('poster', img.currentSrc || img.src);
      }
      vid.addEventListener('mouseenter', ()=>{ vid.play().catch(()=>{}); });
      vid.addEventListener('mouseleave', ()=>{ vid.pause(); vid.currentTime = 0; });
    }
    if (img) { img.loading='lazy'; img.decoding='async'; }
  });
});
</script>

<!-- Акордеон -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const headers = document.querySelectorAll(".accordion-header");
  headers.forEach(header => {
    header.addEventListener("click", function () {
      const content = this.parentElement.querySelector(".accordion-content");
      document.querySelectorAll(".accordion-content").forEach(c => {
        if (c !== content) {
          c.style.maxHeight = null; c.style.paddingTop = "0"; c.style.paddingBottom = "0"; c.style.marginBottom = "0";
          c.previousElementSibling.classList.remove("active"); c.style.willChange = "auto";
        }
      });
      if (content.style.maxHeight) {
        content.style.maxHeight = null; content.style.paddingTop = "0"; content.style.paddingBottom = "0"; content.style.marginBottom = "0";
        this.classList.remove("active"); content.style.willChange = "auto";
      } else {
        content.style.willChange = "max-height";
        content.style.maxHeight = content.scrollHeight + 10 + "px";
        content.style.paddingTop = "15px"; content.style.paddingBottom = "15px"; content.style.marginBottom = "10px";
        this.classList.add("active");
      }
    });
  });
});
</script>

<!-- Сайдбар: зареждане на conditions.html (случаен подбор + безопасни пътища + MP4 only) -->
<script>
(function () {
  const KEY = 'conditions_html_v3';
  const MAX_ITEMS = 6;
  const SRC_PAGE = '/conditions.html?v=3';

  function xmur3(str){let h=1779033703^str.length;for(let i=0;i<str.length;i++){h=Math.imul(h^str.charCodeAt(i),3432918353);h=(h<<13)|(h>>>19)}return function(){h=Math.imul(h^(h>>>16),2246822507);h=Math.imul(h^(h>>>13),3266489909);return (h^=h>>>16)>>>0}}
  function mulberry32(a){return function(){let t=a+=0x6D2B79F5;t=Math.imul(t^(t>>>15),t|1);t^=t+Math.imul(t^(t>>>7),t|61);return ((t^(t>>>14))>>>0)/4294967296}}
  function shuffleWithRNG(arr,rng){const a=arr.slice();for(let i=a.length-1;i>0;i--){const j=Math.floor(rng()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a;}

  function absolutize(el, attr){
    const val = el.getAttribute(attr);
    if (!val || /^([a-z]+:)?\/\//i.test(val) || val.startsWith('/')) return;
    el.setAttribute(attr, '/' + val.replace(/^\.?\//,''));
  }

  function selectVaried(html){
    const temp = document.createElement('div');
    temp.innerHTML = html;

    // само MP4; без webm/gif
    temp.querySelectorAll('video source').forEach(s => {
      const src = (s.getAttribute('src')||'').toLowerCase();
      const type = (s.getAttribute('type')||'').toLowerCase();
      if (type.includes('webm') || src.endsWith('.webm') || /\/gifs?\//.test(src) || src.endsWith('.gif')) s.remove();
    });

    temp.querySelectorAll('video').forEach(v => {
      if (!v.querySelector('source[type="video/mp4"]')) { v.remove(); return; }
      v.removeAttribute('autoplay');
      v.setAttribute('preload','none');
      v.setAttribute('playsinline','');
    });

    // пътища → абсолютни; lazy изображения
    temp.querySelectorAll('img').forEach(img => { absolutize(img, 'src'); img.loading='lazy'; img.decoding='async'; });
    temp.querySelectorAll('video').forEach(v => absolutize(v, 'poster'));
    temp.querySelectorAll('video source').forEach(s => absolutize(s, 'src'));
    temp.querySelectorAll('a').forEach(a => absolutize(a, 'href'));

    const all = [...temp.querySelectorAll('.pain-button')];
    if (!all.length) return [];
    const d = new Date(), seedStr = `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}|${location.pathname}`;
    const rng = mulberry32(xmur3(seedStr)());
    const picked = shuffleWithRNG(all, rng).slice(0, MAX_ITEMS);

    picked.forEach(el => {
      const img = el.querySelector('img.static-img');
      const vid = el.querySelector('video.hover-img');
      if (img && !img.width && !img.height){ img.width = 400; img.height = 225; img.style.aspectRatio = '16/9'; }
      if (vid && img && !vid.getAttribute('poster')) { vid.setAttribute('poster', img.currentSrc || img.src); }
      if (vid) { vid.setAttribute('preload','none'); vid.setAttribute('playsinline',''); vid.muted = true; }
    });
    return picked;
  }

  function inject(elements){
    const container=document.getElementById('conditions-container');
    if(!container || !elements?.length) return;
    elements.forEach(el=>container.appendChild(el));
  }

  async function fetchAndCache(){
    const res=await fetch(SRC_PAGE,{credentials:'omit',cache:'no-store'});
    if(!res.ok) throw new Error('HTTP '+res.status);
    const text=await res.text();
    sessionStorage.setItem(KEY, text);
    return text;
  }

  function onVisible(el, cb){
    if(!('IntersectionObserver' in window)){ cb(); return; }
    const io=new IntersectionObserver((entries)=>{
      entries.forEach(en=>{ if(en.isIntersecting){ io.disconnect(); cb(); }});
    },{ rootMargin:'200px 0px' });
    io.observe(el);
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    const target=document.getElementById('random-conditions'); if(!target) return;
    onVisible(target, async ()=>{
      try{
        const cached=sessionStorage.getItem(KEY);
        const html=cached ?? await fetchAndCache();
        inject(selectVaried(html));
      }catch(e){ console.warn('conditions.html error:', e); }
    });
  });
})();
</script>

<script src="/js/media-autoplay-cards.js" defer></script>
</body>
</html>
